import{a as e,b as o,m as n,h as t}from"./htmlAddition.aa224fc5.js";import{T as s,R as l,M as a,P as i,a as c,G as d,b as r,S as p,c as w,d as m,W as f,O as h,e as g,V as b,A as v,B as S}from"./vendor.89b462a9.js";const u=document.querySelector("#bg"),y=new w,I=new m(75,window.innerWidth/window.innerHeight,.1,30),P=new f({canvas:u}),M=1.8;Math.PI;let k,_=new a(new h(1),new g({color:3225597,wireframe:!0}));(async()=>{e(),document.getElementById("loading").style.display="none",document.getElementById("app").style.display="block",P.setPixelRatio(window.devicePixelRatio),P.setSize(window.innerWidth,window.innerHeight),P.render(y,I),I.position.set(0,M,-5),I.lookAt(new b(0,M,0));const t=(new s).load("nbg.jpg");t.repeat,y.background=t;const w=new v(16777215);w.intensity=.5,y.add(w),function(e){const o=(new s).load("planet/planet.jpg");o.wrapS=l,o.wrapT=l,o.offset.set(0,0),o.repeat.set(70,70);const n=(new s).load("planet/NormalMap.png");n.wrapS=l,n.wrapT=l,n.offset.set(0,0),n.repeat.set(70,70);const t=(new s).load("planet/DisplacementMap.png");t.wrapS=l,t.wrapT=l,t.offset.set(0,0),t.repeat.set(70,70);const d=(new s).load("planet/AmbientOcclusionMap.png");d.wrapS=l,d.wrapT=l,d.offset.set(0,0),d.repeat.set(70,70);const r=new a(new i(1e3,1e3,10,10),new c({map:o,aoMap:d,normalMap:n,displacementMap:t,displacementScale:1}));r.rotation.x-=Math.PI/2,e.add(r);const p=(new s).load("planet/farm.jpg");p.wrapS=l,p.wrapT=l,p.offset.set(0,0),p.repeat.set(4,1);const w=new a(new i(100,19,10,10),new c({map:p}));w.rotation.x-=Math.PI/2,w.position.set(0,.1,46),e.add(w)}(y),function(e){const o=new d;function n(){const o=new p(.1,24,24),n=new c({color:16777215}),t=new a(o,n),[s,l,i]=[r.randFloat(-20,20),r.randFloat(0,50),r.randFloat(0,200)];t.position.set(s,l,i),e.add(t)}function t(o,n){const[t,s]=[r.randFloat(-30,30),r.randFloat(0,200)];o.position.set(t,n||0,s),e.add(o)}o.load("models/falltree/model.gltf",(e=>{const o=e.scene;o.scale.setScalar(1),o.position.set(0,3,22),o.children[2].visible=!1;let n=0;for(;n<6;)t(o.clone(),3),n++})),o.load("models/bouldar/boulder_03.gltf",(e=>{const o=e.scene;o.scale.setScalar(.01),o.position.set(0,0,22),o.children[2].visible=!1,o.rotation.y+=Math.PI/2,o.children[2].visible=!1;let n=0;for(;n<3;)t(o.clone(),0),n++})),o.load("models/cactus/PipeOrganCactus.gltf",(e=>{const o=e.scene;o.scale.setScalar(.3),o.position.set(0,0,22),o.children[2].visible=!1;let n=0;for(;n<7;)t(o.clone(),0),n++})),o.load("models/beanstalk/PUSHILIN_Beanstalk.gltf",(e=>{const o=e.scene;o.scale.setScalar(1),o.position.set(0,0,22),o.children[2].visible=!1;let n=0;for(;n<7;)t(o.clone(),0),n++})),o.load("models/bamboo/PUSHILIN_bamboo.gltf",(e=>{const o=e.scene;o.children[2].visible=!1;let n=0;for(;n<7;)t(o.clone(),1),n++})),o.load("models/weepwillow/WeepingWillowTree.gltf",(e=>{const o=e.scene.children[0];o.scale.setScalar(.5);let n=0;for(;n<6;)t(o.clone()),n++}));for(let s=0;s<500;s++)n()}(y),_.position.y+=3,_.position.z=2;const m=(new s).load("my.jpg");k=new a(new S(1.5,1.5,1.5),new g({map:m})),k.position.set(-3,1.5,12),y.add(k);let f=16;y.add(_);const h=new d;!function(e){const o=new d;o.load("models/buld/Bulldozer.gltf",(o=>{const n=o.scene;n.scale.setScalar(.3),n.position.set(-4,.1,22),n.children[2].visible=!1,n.rotateY(3*Math.PI/4),e.add(n)})),o.load("models/dumbtruck/Dump_Truck_01.gltf",(o=>{const n=o.scene;n.children[2].visible=!1,n.scale.setScalar(.3),n.position.set(7,.1,29),n.rotateY(3*Math.PI/4),e.add(n)}),void 0,console.log),o.load("models/cabin/Cabin 2.gltf",(o=>{const n=o.scene;n.scale.setScalar(.01),n.children[2].visible=!1,n.position.set(-15,0,35),n.rotateY(3*Math.PI/4),e.add(n)}),void 0,console.log),o.load("models/woodpile/model.gltf",(o=>{const n=o.scene;n.scale.setScalar(4),n.position.set(7,-5,22),n.rotateY(3*Math.PI/4),e.add(n)}),void 0,console.log),o.load("models/silo/PUSHILIN_silo.gltf",(o=>{const n=o.scene;n.children[2].visible=!1,n.scale.setScalar(5),n.position.set(14,5,50),e.add(n)}),void 0,console.log),o.load("models/windm/PUSHILIN_windmill.gltf",(o=>{const n=o.scene;n.scale.setScalar(5),n.children[2].visible=!1,n.position.set(-13,5,45),e.add(n)}),void 0,console.log),o.load("models/wheat/FieldOfWheat.gltf",(o=>{const n=o.scene.children[0].children[0].children[0];n.scale.setScalar(.1);let t=37;for(;t<56;t+=2)for(let o=-20;o<20;o+=2){const s=n.clone();s.position.set(o,0,t),e.add(s)}}),void 0,console.log),o.load("models/skysc/PUSHILIN_skyscraper.gltf",(o=>{const n=o.scene;n.scale.set(4,3,4),n.children[2].visible=!1,n.position.set(4,6,64),n.rotateY(Math.PI),e.add(n)}),void 0,console.log),o.load("models/skysc2/model.gltf",(o=>{const n=o.scene;n.scale.set(7,5,7),n.children[2].visible=!1,n.position.set(-8,-4,62),e.add(n)}),void 0,console.log),o.load("models/skyscs/Skycraper_173.gltf",(o=>{const n=o.scene;n.scale.setScalar(.05),n.position.set(15,0,65),e.add(n)}),void 0,console.log),o.load("models/factory/CUPIC_FACTORy.gltf",(o=>{const n=o.scene;n.scale.setScalar(.02),n.children[2].visible=!1,n.position.set(-10,0,63),e.add(n)}),void 0,console.log),o.load("models/canyon/model.gltf",(o=>{const n=o.scene;n.scale.setScalar(15),n.position.set(3,-7.5,85),e.add(n)}),void 0,console.log)}(y),await h.load("models/construction_barricades/scene.gltf",(function(e){const t=e.scene,l=t.clone(),d=t.clone();for(let o=0;o<l.children[0].children[0].children[0].children.length;o++)l.children[0].children[0].children[0].children[o].visible=o<4,d.children[0].children[0].children[0].children[o].visible=!(o<4),o>10&&(d.children[0].children[0].children[0].children[o].visible=!1);l.position.set(2,1,15),l.rotation.y+=Math.PI,y.add(l);for(let n=0;n<o.length;n++){const e=new i(.3,.3),t=new c({map:(new s).load(o[n].image),transparent:!0}),l=new a(e,t),r=d.clone();l.position.set(.6,-.2,.05),r.add(l),f+=1.2,r.position.set(2,1,f),r.rotation.y+=Math.PI,y.add(r)}for(let o=0;o<n.length;o++){const e=new i(.3,.3),t=new c({map:(new s).load(n[o].image),transparent:!0}),l=new a(e,t),r=d.clone();l.position.set(.6,-.2,.05),r.add(l),f+=1.2,r.position.set(2,1,f),r.rotation.y+=Math.PI,y.add(r)}}),void 0,(function(e){console.error(e)}))})();function T(){requestAnimationFrame(T),_.rotation.x+=.01,_.rotation.y+=.02,_.rotation.z+=.02,k&&(k.rotation.y+=.02),P.render(y,I)}window.addEventListener("scroll",(e=>{const o=window.scrollY;t(o),I.position.z=o/100})),T(),T();
